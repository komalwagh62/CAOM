<!-- Menu Button -->
<button mat-mini-fab color="none" class="manu1" [matMenuTriggerFor]="belowMenu" (click)="toggleMenu()">
  <mat-icon color="primary">menu</mat-icon>
</button>

<button mat-mini-fab color="none" class="filter-icon" title="Filter Data" (click)="toggleFilterPopup()">
  <mat-icon color="primary">filter_list</mat-icon>
</button>
<mat-menu #belowMenu="matMenu" yPosition="below" class="bg-transparent" [hasBackdrop]="false">
  <div class="d-grid gap-2 col-6 mx-auto  justify-content-md-end">
    <button mat-mini-fab class="mycolor" title="Conventional Airways" (click)="toggleConventionalAirwaysLayer()">
      <div class="icon-container"> <img src="assets/BlackAWY.png" title="Conventional Airways"
          style="height: 25px; width: 30px;" alt="Restricted_Airspace"> </div>
    </button>

    <button mat-mini-fab class="mycolor" title="Non-Conventional Airways" (click)="toggleNonConventionalAirwaysLayer()">
      <div class="icon-container"> <img src="assets/AWY.png" title="Non-Conventional Airways"
          style="height: 25px; width: 30px;" alt="Restricted_Airspace"> </div>
    </button>
    <button mat-mini-fab class="mycolor" title="FIR">
      <div class="icon-container">
        <i class="bi bi-pentagon text-primary-emphasis" title="FIR"></i>
      </div>
    </button>

    <button mat-mini-fab class="mycolor" title="Waypoint" (click)="toggleWaypoints()">
      <div class="icon-container">
        <mat-icon title="Waypoint" color="primary">change_history</mat-icon>
      </div>
    </button>

    <button mat-mini-fab class="mycolor" title="Navaids" (click)="togglenavaids()">
      <div class="icon-container">
        <img src="assets/navaid.png" style="height: 100%; width: 60%;" title="Navaids" alt="Controlled Airspace">
      </div>
    </button>

    <button mat-mini-fab class="mycolor" title="Controlled Airspace" >
      <div class="icon-container">
        <img src="assets/CA.png" style="height: 100%; width: 60%; " title="Controlled Airspace"
          alt="Controlled Airspace">
      </div>
    </button>

    <button mat-mini-fab class="mycolor" title="Restricted Airspace">
      <div class="icon-container">
        <img src="assets/Restricted_Airspace.png" title="Restricted Airspace" style="height: 25px; width: 25px;"
          alt="Restricted Airspace">
      </div>
    </button>

    <button mat-mini-fab class="mycolor" title="Aerodrome Obstacle">
      <div class="icon-container">
        <img src="assets/Lighted_Obstacle.png" title="Aerodrome Obstacle" style="height: 80%;  width: 50px; "
          alt="Aerodrome Obstacle">
      </div>
    </button>



  </div>

</mat-menu>

<!-- Filter Popup -->
<div *ngIf="filterPopupVisible && menuOpen" id="filter-popup" class="filter-popup">
  <h3>Filter By</h3>
  <a href="#" id="filter-popup-closer" class="filter-popup-closer" (click)="closeFilterPopup($event)">Ã—</a>
  <form>
    <div class="form-row">
      <div class="form-group">
        <label for="type">Type:</label>
        <select id="type" #typeInput>
          <option value="conv">Conv</option>
          <option value="nonconv">NonConv</option>
        </select>
      </div>
      <div class="form-group">
        <label for="track_magnetic">Track Magnetic:</label>
        <input type="text" id="track_magnetic" #trackMagneticInput>
      </div>
      <div class="form-group">
        <label for="airway_id">Airway ID:</label>
        <input type="text" id="airway_id" #airwayIdInput>
      </div>
      <div class="form-group">
        <label for="upper_limit">Upper Limit:</label>
        <input type="text" id="upper_limit" #upperLimitInput>
      </div>
      <div class="form-group">
        <label for="lower_limit">Lower Limit:</label>
        <input type="text" id="lower_limit" #lowerLimitInput>
      </div>
      <div class="form-group">
        <label for="mea">MEA:</label>
        <input type="text" id="mea" #meaInput>
      </div>
      <div class="form-group">
        <label for="lateral_limits">Lateral Limits:</label>
        <input type="text" id="lateral_limits" #lateralLimitsInput>
      </div>
    </div>
    <button type="button" class="buttons"
      (click)="filterAndShowFeatures(typeInput.value, trackMagneticInput.value, airwayIdInput.value, upperLimitInput.value, lowerLimitInput.value, meaInput.value, lateralLimitsInput.value)">Apply</button>
  </form>
</div>



<!-- Popup for feature information -->
<div id="popup" class="ol-popup">
  <a href="#" id="popup-closer" class="ol-popup-closer" (click)="closePopup($event)"></a>
  <div id="popup-content"></div>
</div>

<!-- Map Container -->
<div id="map" class="map"></div>